## 循环执行的例行性工作排程

```
[root@study ~]# crontab [-u username] [-l|-e|-r]
选项与参数：
-u ：只有 root 才能进行这个任务，亦即帮其他使用者建立/移除 crontab 工作排程；
-e ：编辑 crontab 的工作内容
-l ：查阅 crontab 的工作内容
-r ：移除所有的 crontab 的工作内容，若仅要移除一项，请用 -e 去编辑。

范例一：用 dmtsai 的身份在每天的 12:00 发信给自己
[dmtsai@study ~]$ crontab -e
# 此时会进入 vi 的编辑画面让您编辑工作！注意到，每项工作都是一行。
0 12 * * * mail -s "at 12:00" dmtsai < /home/dmtsai/.bashrc
#分 时 日 月 周 |<==============指令串========================>|
```

| 特殊字符 | 代表意义 |
| --- | --- |
| \*\(星号\) | 代表任何时刻都接受的意思！举例来说，范例一内那个日、月、周都是 \* ， 就代表着『不论何月、何日的礼拜几的 12:00 都执行后续指令』的意思！ |
| ,\(逗号\) | 代表分隔时段的意思。举例来说，如果要下达的工作是 3:00 与 6:00 时，就会是：0 3,6 _ _ \* command时间参数还是有五栏，不过第二栏是 3,6 ，代表 3 与 6 都适用！ |
| -\(减号\) | 代表一段时间范围内，举例来说， 8 点到 12 点之间的每小时的 20 分都进行一项工作：20 8-12 _ _ \* command仔细看到第二栏变成 8-12 喔！代表 8,9,10,11,12 都适用的意思！ |
| /n\(斜线\) | 那个 n 代表数字，亦即是『每隔 n 单位间隔』的意思，例如每五分钟进行一次，则：_/5 _ _ _ _ command很简单吧！用 _ 与 /5 来搭配，也可以写成 0-59/5 ，相同意思！ |

使用的限制数据有：

* /etc/cron.allow：  
  将可以使用 crontab 的账号写入其中，若不在这个文件内的使用者则不可使用 crontab

* /etc/cron.deny：  
  将不可以使用 crontab 的账号写入其中，若未记录到这个文件当中的使用者，就可以使用 crontab

当用户使用 crontab 这个指令来建立工作排程之后，该项工作就会被纪录到 /var/spool/cron/ 里面去 了，而且是以账号来作为判别的喔！比如， dmtsai 使用 crontab 后， 他的工作会被纪录到 /var/spool/cron/dmtsai 里头去！

但请注意，不要使用 vi 直接编辑该文件， 因为可能由于输入语法错 误，会导致无法执行 cron 喔！另外， cron 执行的每一项工作都会被纪录到 /var/log/cron 这个登录 档中，所以啰，如果你的 Linux 不知道有否被植入木马时，也可以搜寻一下 /var/log/cron 这个登录 档呢！

『 crontab -e 』是针对使用者的 cron 来设计的，如果是『系统的例行性任务』时， 该怎么办 呢？是否还是需要以 crontab -e 来管理你的例行性工作排程呢？当然不需要，你只要编 辑 /etc/crontab 这个文件就可以啦（/etx/crontab是纯文本文档，而每个用户的不是）！

