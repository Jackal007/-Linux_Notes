> 如果在跑程序的时候，有父程序与子程序的不同程序关系时，则『变量』可否被引用与 export 有关。 被 export 后的变量，我们可以称他为『环境变量』！ 环境变量可以被子程序所引用，但是其他的自 定义变量内容就不会存在于子程序中。
>
> * 当启动一个 shell，操作系统会分配一记忆区块给 shell 使用，此内存内之变量可让子程序取用 
> * 若在父程序利用 export 功能，可以让自定义变量的内容写到上述的记忆区块当中\(环境变量\)； 
> * 当加载另一个 shell 时 \(亦即启动子程序，而离开原本的父程序了\)，子 shell 可以将父 shell 的环境变量所 在的记忆区块导入自己的环境变量区块当中。

### export： 自定义变量转成环境变量

谈了 env 与 set 现在知道有所谓的环境变量与自定义变量，那么这两者之间有啥差异呢？其实这两 者的差异在于『 该变量是否会被子程序所继续引用』啦！唔！那么啥是父程序？子程序？ 这就得要 了解一下指令的下达行为了。 当你登入 Linux 并取得一个 bash 之后，你的 bash 就是一个独立的程序，这个程序的识别使用的是 一个称为程序标识符，被称为 PID 的就是。 接下来你在这个 bash 底下所下达的任何指令都是由这 个 bash 所衍生出来的，那些被下达的指令就被称为子程序了。 我们可以用底下的图示来简单的说 明一下父程序与子程序的概念：

![](/assets/import.png)

如上所示，我们在原本的 bash 底下执行另一个 bash ，结果操作的环境接口会跑到第二个 bash 去 \(就是子程序\)， 那原本的 bash 就会在暂停的情况 \(睡着了，就是 sleep\)。整个指令运作的环境是实 线的部分！若要回到原本的 bash 去， 就只有将第二个 bash 结束掉 \(下达 exit 或 logout\) 才行。 更多的程序概念我们会在第四篇谈及，这里只要有这个概念即可。 这个程序概念与变量有啥关系啊？关系可大了！因为子程序仅会继承父程序的环境变量， 子程序不 会继承父程序的自定义变量啦！所以你在原本 bash 的自定义变量在进入了子程序后就会消失不见， 一直到你离开子程序并回到原本的父程序后，这个变量才会又出现！ 换个角度来想，也就是说，如果我能将自定义变量变成环境变量的话，那不就可以让该变量值继续存 在于子程序了？ 呵呵！没错！此时，那个 export 指令就很有用啦！如你想要让该变量内容继续的在 子程序中使用，那么就请执行：

```
[dmtsai@study ~]$ export 变量名称
```

这东西用在『分享自己的变量设定给后来呼叫的文件或其他程序』啦！ 像鸟哥常常在自己的主控文 件后面呼叫其他附属文件\(类似函式的功能\)，但是主控文件与附属文件内都有相同的变量名称， 若 一再重复设定时，要修改也很麻烦，此时只要在原本的第一个文件内设定好『 export 变量 』， 后 面所呼叫的文件就能够使用这个变量设定了！而不需要重复设定，这非常实用于 shell script 当中喔！ 如果仅下达 export 而没有接变量时，那么此时将会把所有的『环境变量』秀出来喔！例如：

```
[dmtsai@study ~]$ export
declare -x HISTSIZE="1000"
declare -x HOME="/home/dmtsai"
declare -x HOSTNAME="study.centos.vbird"
declare -x LANG="zh_TW.UTF-8"
declare -x LC_ALL="en_US.utf8"
```



